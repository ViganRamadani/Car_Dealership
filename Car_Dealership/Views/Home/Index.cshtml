@model Car_Dealership.Models.News
@{
    ViewData["Title"] = "Home Page";
}
<div class="home-background">
    <div class="container">
        <div class="banner-info-bg">
            <h5>We are <br> qualified &amp; <br> professional.</h5>
            <div class="banner-buttons mt-4">
                <a class="btn btn-style btn-primary" asp-area="" asp-controller="Home" asp-action="Privacy">Read More</a>
            </div>
        </div>
    </div>
</div>


<div class="w3l-bottom-grids">
    <div class="container-fluid px-0">
        <div class="bottomhny-grids-sec">
            <div class="bottomhny-1">
                <div class="bottomhny-gd-ingf">
                    <h4>Satisfaction Guaranteed or Your Dent Back.</h4>

                </div>
            </div>
            <div class="bottomhny-1 bottomhny-2">
                <div class="bottomhny-gd-ingf">
                    <h4>Caring For Your Car The Way You Would.</h4>
                </div>
            </div>
            <div class="bottomhny-1 bottomhny-1-img">
                <div class="bottomhny-gd-ingf">
                </div>
            </div>

        </div>
    </div>
</div>


<section class="w3l-content-3">
    <div class="content-3-mian py-5">
        <div class="container py-lg-5">
            <div class="content-info-in row">
                <div class="col-lg-6">
                    <img src="~/img/whoareusjpg.jpg" alt="" class="img-fluid">
                </div>
                <div class="col-lg-6 mt-lg-0 mt-5 about-right-faq align-self  pl-lg-5">
                    <div class="title-content text-left mb-2">
                        <h6 class="sub-title">Who We Are</h6>
                        <h3 class="hny-title">
                            We have 25 years
                            of experience in this field.
                        </h3>
                    </div>
                    <p class="mt-3">
                        Lorem ipsum viverra feugiat. Pellen tesque libero ut justo,
                        ultrices in ligula. Semper at tempufddfel. Lorem ipsum dolor sit amet consectetur
                        adipisicing
                        elit.fugiat consequatur voluptatem nihil ad.Lorem illum facere aperiam consectetur adipisicing.
                    </p>
                    <a asp-area="" asp-controller="Home" asp-action="Privacy" class="btn btn-style btn-primary mt-md-5 mt-5">Read More</a>
                </div>
            </div>
        </div>

        </div>
</section>

    }

    <div id="result"></div>
    <button type="button" class="btn btn-primary btn-block" id="allNews" onclick="ajaxGet()">click to view all news.</button>


    <div id="contain">
        <div id="reportWindow">

            </div> 
        </div>


<section class="features-4">
    <div class="features4-block py-5">
        <div class="container py-lg-4">
            <div class="title-content text-center mb-lg-5 mt-4">
                <h6 class="sub-title">Why Choose Us</h6>
                <h3 class="hny-title">Great car service</h3>
                <p class="fea-para">Lorem illum facere aperiam consectetur adipisicing elit</p>
            </div>
            <div class="row features4-grids text-left mt-lg-4">
                <div class="col-lg-3 col-md-6 features4-grid mt-4">
                    <div class="features4-grid-inn">
                        <div class="img-featured">
                            <div class="ch-item ch-img-1">
                                <div class="ch-info-wrap">
                                    <div class="ch-info">
                                        <div class="ch-info-front ch-img-1"></div>
                                        <div class="ch-info-back">
                                            <h4>Carserving</h4>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="features4-rightinfo">
                            <h5><a href="#URL">Tire and wheel</a></h5>
                            <p>Lorem ipsum dolor sit amet,Ea consequuntur illum facere.</p>

                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 features4-grid mt-4">
                    <div class="features4-grid-inn">
                        <div class="img-featured">
                            <div class="ch-item ch-img-2">
                                <div class="ch-info-wrap">
                                    <div class="ch-info">
                                        <div class="ch-info-front ch-img-2"></div>
                                        <div class="ch-info-back">
                                            <h4>Carserving</h4>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="features4-rightinfo">
                            <h5>
                                <a href="#URL">
                                    Electrical system
                                </a>
                            </h5>
                            <p>Lorem ipsum dolor sit amet,Ea consequuntur illum facere.</p>

                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 features4-grid mt-4">
                    <div class="features4-grid-inn">
                        <div class="img-featured">
                            <div class="ch-item ch-img-3">
                                <div class="ch-info-wrap">
                                    <div class="ch-info">
                                        <div class="ch-info-front ch-img-3"></div>
                                        <div class="ch-info-back">
                                            <h4>Carserving</h4>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="features4-rightinfo">
                            <h5>
                                <a href="#URL">
                                    System service
                                </a>
                            </h5>
                            <p>Lorem ipsum dolor sit amet,Ea consequuntur illum facere.</p>

                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 features4-grid mt-4">
                    <div class="features4-grid-inn">
                        <div class="img-featured">
                            <div class="ch-item ch-img-4">
                                <div class="ch-info-wrap">
                                    <div class="ch-info">
                                        <div class="ch-info-front ch-img-4"></div>
                                        <div class="ch-info-back">
                                            <h4>Carserving</h4>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="features4-rightinfo">
                            <h5>
                                <a href="#URL">
                                    Engine diagnostics
                                </a>
                            </h5>
                            <p>Lorem ipsum dolor sit amet,Ea consequuntur illum facere.</p>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<div class="middle py-5">
    <div class="container py-xl-5 py-lg-3">
        <div class="welcome-left text-left py-3">
            <div class="title-content">
                <h6 class="sub-title">Call Us</h6>
                <h3 class="hny-title two mb-2">Imagine Your Car Feeling New Again</h3>
                <p>
                    Questions? Give us a call today at <a href="tel:+(21) 255 999 8899">
                        +(383)
                        49 100 101
                    </a>
                </p>

            </div>
            <a href="services.html" class="btn btn-white mt-md-5 mt-4 mr-sm-2">Our Services</a>
            <a href="contact.html" class="btn btn-white-active btn-primary mt-md-5 mt-4">Contact Us</a>
        </div>
    </div>
</div>

<section class="w3l-testimonials">
    <div class="testimonials py-5">
        <div class="container text-center py-lg-3">
            <div class="title-content text-center mb-lg-5 mb-4">
                <h6 class="sub-title">Client Testimonials</h6>
                <h3 class="hny-title">100% approved by customers</h3>

            </div>
            <div class="row">
                <div class="col-lg-10 mx-auto">
                    <div class="owl-testimonial owl-carousel owl-theme">
                        <div class="item">
                            <div class="slider-info mt-lg-4 mt-3">
                                <div class="img-circle">
                                    <img src="~/img/team1.jpg" class="img-fluid rounded" alt="client image">
                                </div>
                                <div class="message">
                                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Ea sit
                                    id
                                    accusantium
                                    officia quod quasi necessitatibus perspiciatis Harum error provident
                                    quibusdam tenetur.
                                </div>
                                <div class="name">- Jenkins</div>

                            </div>
                        </div>
                        <div class="item">
                            <div class="slider-info mt-lg-4 mt-3">
                                <div class="img-circle">
                                    <img src="~/img/team2.jpg" class="img-fluid rounded" alt="client image">
                                </div>
                                <div class="message">
                                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Ea sit
                                    id
                                    accusantium
                                    officia quod quasi necessitatibus perspiciatis Harum error provident
                                    quibusdam tenetur.
                                </div>
                                <div class="name">- John Balmer</div>
                            </div>
                        </div>
                        <div class="item">
                            <div class="slider-info mt-lg-4 mt-3">
                                <div class="img-circle">
                                    <img src="~/img/team3.jpg" class="img-fluid rounded" alt="client image">
                                </div>
                                <div class="message">
                                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Ea sit
                                    id
                                    accusantium
                                    officia quod quasi necessitatibus perspiciatis Harum error provident
                                    quibusdam tenetur.
                                </div>
                                <div class="name">- Kiss Kington</div>
                            </div>
                        </div>
                        <div class="item">
                            <div class="slider-info mt-lg-4 mt-3">
                                <div class="img-circle">
                                    <img src="~/img/team4.jpg" class="img-fluid rounded" alt="client image">
                                </div>
                                <div class="message">
                                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Ea sit
                                    id
                                    accusantium
                                    officia quod quasi necessitatibus perspiciatis Harum error provident
                                    quibusdam tenetur.
                                </div>
                                <div class="name">- Elizabeth</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>  
<!--




     <div class="container">


         <br />
         <h1 class="mt-4" style="text-align:center">LATEST CARS</h1>
         <br />

         @for (int i = 0; i < 1; i++)
         {
             <div class="row mt-2">
                 <div class="col-md-4">
                     <div class="card latest-cars">
                         <img class="card-img-top" src="/img/Gclass.jpg">
                         <div class="card-body">
                             <h5 class="card-title">G-Class</h5>
                             <p class="card-text">$60.000</p>
                         </div>
                     </div>
                 </div>

                 <div class="col-md-4">
                     <div class="card latest-cars">
                         <img class="card-img-top" src="/img/audi.jpg">
                         <div class="card-body">
                             <h5 class="card-title">AUDI SQ8 4.0 TFSI QUATTRO</h5>
                             <p class="card-text">$50.000</p>
                         </div>
                     </div>
                 </div>

                 <div class="col-md-4">
                     <div class="card latest-cars">
                         <img class="card-img-top" src="/img/mercedes.jpg">
                         <div class="card-body">
                             <h5 class="card-title">S 400 D LONG 4MATIC AMG-LINE</h5>
                             <p class="card-text">$35.000</p>
                         </div>
                     </div>
                 </div>
             </div>
         }





             <div class="container">
                 <div class="d-flex flex-row justify-content-center justify-content-around brands-logo">
                     <div class="logo-box">
                         <img src="~/img/mercedes.png" alt="Mercedes-Benz">
                     </div>
                     <div class="logo-box">
                         <img src="img/bmw.png" alt="BMW">
                     </div>
                     <div class="logo-box">
                         <img src="img/audi.png" alt="Audi">
                     </div>
                     <div class="logo-box">
                         <img src="img/lambo.png" alt="Lamborghini">
                     </div>
                     <div class="logo-box">
                         <img src="img/volkswagen.png" alt="Volkswagen">
                     </div>
                     <div class="logo-box">
                         <img src="img/porsche.jpg" alt="Porsche">
                     </div>
                 </div>
             </div>






             <div class="containter">
                 <h1 class="our-services" style="text-align:center">OUR SERVICES</h1>
                 <div class="d-flex flex-row justify-content-center justify-content-around">
                     <div class="col-md-4 text-center mb-5">
                         <i class="fas fa-tools fa-5x mt-3 mb-3"></i>
                         <h4>Repair</h4>

                     </div>
                     <div class="col-md-4 text-center">

                         <i class="fas fa-truck-loading fa-5x mt-3 mb-3"></i>
                         <h4>Car Transport</h4>
                     </div>
                     <div class="col-md-4 text-center">
                         <i class="fas fa-truck-loading fa-5x mt-3 mb-3"></i>
                         <h4>Replacement Part</h4>

                     </div>
                 </div>
             </div>
    </div>
    -->





<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>

<script type='text/javascript'>
    function ajaxGet() {

        $.ajax({
            type: "GET",
            url: "http://localhost:3000/user/allNews",
            success: function (result) {


                $.each(result, function (key, value) {
                    @* alert("Title: " + result[key].title + "; Description: " + result[key].description + ";");*@
                    console.log(result[key].image);
                });
                $.each(result, function (index, obj) {
                    var tr = $("<div></div>");

                    tr.append("<p>" + obj.title + "</p>");
                    tr.append("<p>" + obj.description + "</p>");
                    tr.append("<p>" + obj.img_path + "</p>");
                    tr.append("<p>" + obj.createdAt + "</p><hr>");
                    tr.append("<button value=" + obj._id + " onclick=showReportWindow(this)>Report</button><hr>");

                    $("#contain").append(tr);
                });
                @*if (results.length > 0) {
                    $('#title').text(result[0].title);
                    $('#description').text(result[0].description);
                    $('#img_path').text(result[0].img_path);
                }
                else {
                    alert("No data.");
                }*@
                console.log("Success: ", result);
            },
            error: function (e) {
                $("#getResultDiv").html("Error");
                console.log("ERROR: ", e);
            }
        });
    }

    function showReportWindow(data) {
        var id = $(data).val();
        var element = $("<form method='POST' class='d-flex flex-column'></form>");


        element.append("<h4>" + id + "</h4>");
        //element.append("<input placeholder='Report Reason'></input>");

        var select = $("<select class='mb-3 mt-3'></select>")


        select.append("<option>test</option>")
        select.append("<option>test</option>")
        select.append("<option>test</option>")
        select.append("<option>test</option>")
        select.append("<option>test</option>")
        element.append(select)
        element.append("<button type='button' value=" + id +" class='btn btn-danger' onclick='reportNews(this);'>Create Report</input>");

        $("#reportWindow").append(element);

        $("#reportWindow").css({ "opacity": "100%", "pointer-events": "all", "z-index": 1});

        //opacity: 0;
        //pointer - events: none;
        //z - index: 0;
    }

    function reportNews(data) {
        var id = $(data).val();
        var select = $("select :selected").val();
        console.log(id, select);
        var obj = {
            newsId: id,
            reportReason: select
        }
      $.ajax({
          type: "POST",
          url: 'http://localhost:3000/user/report_news/' + id,
          data: obj,
          dataType: "json",
            encode: true,
            success: function (result) {
                console.log(result);
                //location.reload(true);
                $("#reportWindow").css({ "opacity": "0", "pointer-events": "none", "z-index": -1 });
                $('form').remove();
            }
      });


    }

    function removenews(data) {
        var id = $(data).val();
        console.log(id);
        $.ajax({
            type: "DELETE",
            url: 'http://localhost:3000/user/remove_news/' + id,
            success: function (result) {
                console.log(result);
                location.reload(true);
            }
        });
    }
</script>

<style>
    * {
        box-sizing: border-box;
    }

    .left-side img {
        width: 350px;
    }

    .right-side {
        float: right;
    }

        .right-side p {
            min-width: 150px;
        }

    #reportWindow {
        position: absolute;
        background: white;
        display: flex;
        align-items: center;
        width: 75%;
        height: 350px;
        opacity: 0;
        pointer-events: none;
        z-index: 0;
        transition: opacity 0.2s;
    }

    @@media screen and (max-width: 1213px) {
        .right-side {
            float: right;
        }
    }

    @@media screen and (max-width: 770px) {
        .left-side {
            margin: 0 auto;
        }

        .right-side {
            text-align: center;
        }
    }

    @@media screen and (max-width: 365px) {
        .left-side img {
            width: 250px;
            margin: 0 auto;
            min-width: 200px;
        }
    }

    #app {
        background-color: lightgray;
    }
</style>


